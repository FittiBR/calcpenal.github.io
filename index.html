<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora Penal GTA RP</title>
  <style>
    /* MUDAN√áA: Fundo branco e texto preto global */
    body {
      background-color: white;
      color: black;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    .header {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .header img {
      max-width: 300px;
      height: auto;
    }

    /* MUDAN√áA: Fundo branco/claro para o container principal */
    .container {
      width: 90%;
      max-width: 900px;
      padding: 20px;
      border-radius: 10px;
      background: #f9f9f9; /* Cinza bem claro */
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2); /* Sombra mais suave */
      border: 2px solid #5C9EFF;
    }

    h2 {
      text-align: center;
      color: #8A2BE2;
      margin-bottom: 20px;
    }

    .main-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .top-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 20px;
    }

    /* MUDAN√áA: Fundos claros para as se√ß√µes */
    .form-section,
    .report-section {
      flex: 1;
      min-width: 300px;
      padding: 15px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border: 2px solid #5C9EFF;
    }

    .crime-section {
      width: 100%;
      padding: 15px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border: 2px solid #5C9EFF;
    }

    /* MUDAN√áA: Fundo claro para a lista de crimes */
    .crime-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      max-height: 250px;
      overflow-y: auto;
      padding: 10px;
      border: 2px solid #5C9EFF;
      background: #f0f0f0;
      border-radius: 5px;
    }

    /* MUDAN√áA: Bot√µes de crime com fundo cinza claro e texto preto */
    .crime {
      background: #e0e0e0;
      color: black;
      border-radius: 5px;
      padding: 10px;
      text-align: left;
      font-size: 14px;
      transition: 0.3s;
      border: 1px solid #ccc;
    }

    .crime:hover {
      background: #d0d0d0;
    }

    .atenuantes-section {
      width: 100%;
      margin-top: 20px;
      padding: 10px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-height: 120px;
      overflow-y: auto;
      border: 2px solid #5C9EFF;
    }

    /* MUDAN√áA: Textareas com fundo branco e texto preto */
    #resultado,
    #relatorioDados {
      width: 95%;
      height: 80px;
      margin-top: 10px;
      resize: vertical;
      font-size: 14px;
      padding: 15px;
      background: #ffffff;
      color: black;
      border: 2px solid #5C9EFF;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      line-height: 1.5;
    }

    .input-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
      margin-bottom: 15px;
    }

    .input-group label {
      font-size: 14px;
      font-weight: bold;
      color: #5C9EFF;
    }

    /* MUDAN√áA: Inputs com fundo branco e texto preto */
    .input-group input {
      padding: 10px;
      border: 2px solid #5C9EFF;
      border-radius: 5px;
      background: #ffffff;
      color: black;
      outline: none;
      font-size: 14px;
    }

    button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: none;
      background: #8A2BE2;
      color: white; /* Texto do bot√£o mantido branco para contraste com o roxo */
      font-size: 16px;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #6a1bbd;
    }

    @media (max-width: 768px) {
      .top-section {
        flex-direction: column;
        gap: 15px;
      }

      .crime-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div>
    <div class="header">
      <img src="logo-judiciario-insomnia.png" alt="Logo">
    </div>
  </div>

  <div class="container">
    <h2 style="font-family:cursive;">Calculadora Penal - OAB SC</h2>
    <div class="main-container">
      <div class="top-section">
        <div class="crime-section">
          <h3>Crimes</h3>
          <!-- MUDAN√áA: Atualizado o style inline deste input para fundo branco e letra preta -->
          <input
            type="text"
            id="searchCrime"
            placeholder="Pesquisar crime..."
            oninput="filtrarCrimes()"
            style="width: 100%; padding: 10px; border: 2px solid #5C9EFF; border-radius: 5px; background: #ffffff; color: black; margin-bottom: 10px;"
          >
          <div class="crime-container" id="crimes"></div>
        </div>

        <div class="crime-section">
          <h3>Atenuantes</h3>
          <div class="checkbox-group">
            <input type="checkbox" id="advogado"> <label for="advogado">Advogado Constitu√≠do (-30%)</label><br>
            <input type="checkbox" id="reuPrimario"> <label for="reuPrimario">R√©u Prim√°rio (-20%)</label><br>
            <input type="checkbox" id="reuConfesso"> <label for="reuConfesso">R√©u Confesso (-20%)</label><br>
            <input type="checkbox" id="delacao10"> <label for="delacao10">Dela√ß√£o Premiada (-10%)</label><br>
            <input type="checkbox" id="delacao15"> <label for="delacao15">Dela√ß√£o Premiada (-15%)</label><br>
          </div>
          <button onclick="calcularPena()">Calcular Pena</button>
          <textarea id="resultado" readonly>Pena Final: -- Meses | Multa: -- | Fian√ßa: --</textarea>
        </div>

        <div class="report-section">
          <h2>Relat√≥rio - OAB</h2>
          <div class="form-section">
            <div class="input-group">
              <label for="advogadoNome">Nome do Advogado</label>
              <input type="text" id="advogadoNome" placeholder="Digite o nome do advogado">
            </div>
            <div class="input-group">
              <label for="rgAdvogado">RG do Advogado</label>
              <input type="text" id="rgAdvogado" placeholder="Digite o RG do advogado">
            </div>
            <div class="input-group">
              <label for="rgAcompanhante">RG do Acompanhante</label>
              <input type="text" id="rgAcompanhante" placeholder="Digite o RG do acompanhante">
            </div>
            <div class="input-group">
              <label for="cliente">Nome do Cliente</label>
              <input type="text" id="cliente" placeholder="Digite o nome do cliente">
            </div>
            <div class="input-group">
              <label for="RGcliente">RG do Cliente</label>
              <input type="text" id="RGcliente" placeholder="Digite o RG do cliente">
            </div>
            <div class="input-group">
              <label for="Nomeoficial">Nome do Oficial</label>
              <input type="text" id="Nomeoficial" placeholder="Digite o nome do oficial">
            </div>
            <div class="input-group">
              <label for="rgOficial">RG do Oficial</label>
              <input type="text" id="rgOficial" placeholder="Digite o RG do cliente">
            </div>

            <div class="input-group" style="display: flex; align-items: left; gap: 10px; text-align: left;">
              <label for="Porte">Porte de armas:</label>
              <div style="display: flex; flex-direction: column; gap: 5px;">
                <label for="PorteSim" style="display: flex; align-items: center; gap: 5px;">
                  <input type="radio" id="PorteSim" name="Porte" value="Sim"> Sim
                </label>
                <label for="PorteNao" style="display: flex; align-items: center; gap: 5px;">
                  <input type="radio" id="PorteNao" name="Porte" value="Nao"> N√£o
                </label>
              </div>
            </div>

            <div class="input-group" style="display: flex; align-items: left; gap: 10px; text-align: left;">
              <label for="Fianca">Pagou a fian√ßa:</label>
              <div style="display: flex; flex-direction: column; gap: 5px;">
                <label for="FiancaSim" style="display: flex; align-items: center; gap: 5px;">
                  <input type="radio" id="FiancaSim" name="Fianca" value="Sim"> Sim
                </label>
                <label for="FiancaNao" style="display: flex; align-items: center; gap: 5px;">
                  <input type="radio" id="FiancaNao" name="Fianca" value="Nao"> N√£o
                </label>
              </div>
            </div>

            <div class="input-group">
              <label for="relatorioDados">Relat√≥rio Gerado</label>
              <textarea id="relatorioDados" readonly></textarea>
            </div>
            <button onclick="gerarRelatorio()">Gerar Relat√≥rio</button>
            <button onclick="copiarRelatorio()">Copiar Relat√≥rio</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ‚ö†Ô∏è IMPORTANTE: Mantenha a sua lista de crimes original aqui.
    // Eu abreviei a lista abaixo para caber na resposta.
    // Copie o conte√∫do da vari√°vel 'const crimes = [...]' do seu arquivo original e cole aqui.
    
    const crimes = [
        // ... COLE AQUI A SUA LISTA COMPLETA DE CRIMES DO ARQUIVO ORIGINAL ...
        // Exemplo da estrutura (n√£o apague a sua lista real para usar esta vazia):
        /*
        {
            n: "0.1",
            crime: "Azaralhamento",
            sentencaFixa: 100,
            multa: 100000,
            fianca: 130000,
            descricao: "Quando algu√©m est√° bagun√ßando no recrutamento."
        },
        ... outros crimes ...
        */
    ];

    // --- O RESTANTE DO SCRIPT PERMANECE IGUAL (l√≥gica de c√°lculo) ---

    function filtrarCrimes() {
      let input = document.getElementById("searchCrime").value.toLowerCase();
      let crimesLista = document.getElementsByClassName("crime");

      for (let crime of crimesLista) {
        let nomeCrime = crime.innerText.toLowerCase();
        crime.style.display = nomeCrime.includes(input) ? "block" : "none";
      }
    }

    function copiarRelatorio() {
      let relatorio = document.getElementById("relatorioDados").value;
      let textoFormatado = `\n\n${relatorio}\n\n`;

      navigator.clipboard.writeText(textoFormatado).then(() => {
        alert("Relat√≥rio copiado com formata√ß√£o!");
      }).catch(err => {
        console.error("Erro ao copiar:", err);
      });
    }

    function carregarCrimes() {
      // Se voc√™ n√£o colar a lista de crimes na vari√°vel const crimes acima,
      // esta parte n√£o vai mostrar nada na tela.
      let divCrimes = document.getElementById("crimes");
      divCrimes.innerHTML = crimes.map(crime => `
        <div class="crime">
          <input type="checkbox" id="crime${crime.n}" value="${crime.n}">
          <label for="crime${crime.n}">Art. ${crime.n} - ${crime.crime}</label>
        </div>
      `).join('');
    }

    function gerarRelatorio() {
      let nomeAdvogado = document.getElementById("advogadoNome").value || "N√£o informado";
      let rgAdvogado = document.getElementById("rgAdvogado").value || "N√£o informado";
      let nomeCliente = document.getElementById("cliente").value || "N√£o informado";
      let rgCliente = document.getElementById("RGcliente").value || "N√£o informado";
      let nomeOficial = document.getElementById("Nomeoficial").value || "N√£o informado";
      let rgOficial = document.getElementById("rgOficial").value || "N√£o informado";
      let rgAcompanhante = document.getElementById("rgAcompanhante").value || "N√£o informado";

      let porteArma = document.querySelector('input[name="Porte"]:checked');
      porteArma = porteArma ? porteArma.value : "N√£o informado";

      let fianca = document.querySelector('input[name="Fianca"]:checked');
      fianca = fianca ? fianca.value : "N√£o informado";

      let crimesSelecionados = [];
      document.querySelectorAll("#crimes input:checked").forEach(input => {
        const nSelecionado = input.value;
        const crimeObj = crimes.find(crime => crime.n === nSelecionado);
        if (crimeObj) {
          crimesSelecionados.push(`üìå Art. ${crimeObj.n} - ${crimeObj.crime}`);
        }
      });
      let listaCrimes = crimesSelecionados.length ? crimesSelecionados.join("\n") : "Nenhum crime registrado";

      let atenuantes = [];
      if (document.getElementById("advogado").checked) atenuantes.push("üìâ Advogado Constitu√≠do (-30%)");
      if (document.getElementById("reuPrimario").checked) atenuantes.push("üìâ R√©u Prim√°rio (-20%)");
      if (document.getElementById("reuConfesso").checked) atenuantes.push("üìâ R√©u Confesso (-20%)");
      if (document.getElementById("delacao10").checked) atenuantes.push("üìâ Dela√ß√£o premiada (-10%)");
      if (document.getElementById("delacao15").checked) atenuantes.push("üìâ Dela√ß√£o premiada (-15%)");
      let listaAtenuantes = atenuantes.length ? atenuantes.join("\n") : "Nenhuma atenuante aplicada";

      let relatorioTexto = `
\`\`\`
NOME: ${nomeCliente}
RG: ${rgCliente}
RG Acompanhante: ${rgAcompanhante}

üìã ARTIGOS INFRINGIDOS:
${listaCrimes}

‚öñÔ∏è ATENUANTES APLICADAS:
${listaAtenuantes}

üìã PORTE DE ARMA: ${porteArma}
üí∞ FIAN√áA: ${fianca}

üëÆ‚Äç‚ôÇÔ∏è NOME DO OFICIAL: ${nomeOficial} | RG: ${rgOficial}

üìù ADVOGADO: ${nomeAdvogado} | RG: ${rgAdvogado}
\`\`\`
`.trim();

      document.getElementById("relatorioDados").value = relatorioTexto;
    }

    function calcularPena() {
      const artigosInafianaveis = ["1.1", "1.2", "1.3", "2.2", "5.3", "15.1.1", "15.1.2", "15.1.3", "15.1.4"];
      
      let selecionados = crimes.filter(crime => {
        let checkbox = document.getElementById(`crime${crime.n}`);
        return checkbox && checkbox.checked;
      });

      let penaBase = selecionados.reduce((total, crime) => total + crime.sentencaFixa, 0);
      let multaTotal = selecionados.reduce((total, crime) => total + crime.multa, 0);
      
      let possuiInafianavel = selecionados.some(crime => artigosInafianaveis.includes(crime.n));
      
      let fiancaTotal = possuiInafianavel 
        ? "Inafian√ß√°vel" 
        : "R$ " + (multaTotal * 1.5).toLocaleString('pt-BR');

      let reducao = 0;
      if (document.getElementById("advogado").checked) reducao += 30;
      if (document.getElementById("reuPrimario").checked) reducao += 20;
      if (document.getElementById("reuConfesso").checked) reducao += 20;
      if (document.getElementById("delacao10").checked) reducao += 10;
      if (document.getElementById("delacao15").checked) reducao += 15;

      let penaFinal = penaBase * (1 - reducao / 100);

      document.getElementById("resultado").value = 
        `Pena Final: ${Math.max(0, penaFinal).toFixed(2)} Meses | Multa: R$ ${multaTotal.toLocaleString('pt-BR')} | Fian√ßa: ${fiancaTotal}`;
    }

    document.addEventListener("DOMContentLoaded", carregarCrimes);
  </script>
</body>
</html>
